{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '49495202-279cad4ade428b3db0cc5c04a';\n\nexport function getGallery(queryName) {\n    return axios.get(BASE_URL, {\n        params: {\n            key: API_KEY,\n            q: queryName,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true',\n        },\n    })\n    .then(response => response.data)\n    .catch(error => {\n        console.error(\"API error:\", error);\n        throw new Error('Oops! Something went wrong. Please try again later.');\n    });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const refs = {\n    form: document.querySelector('.form'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n};\n\n// Ініціалізація SimpleLightbox\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n});\n\nfunction galleryTemplate(element) {  \n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = element;\n    return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n      </a>\n      <ul class=\"gallery-body\">\n        <li class=\"gallery-info\">\n          <h3>Likes:</h3>\n          <p>${likes}</p>\n        </li>\n        <li class=\"gallery-info\">\n          <h3>Views:</h3>\n          <p>${views}</p>\n        </li>\n        <li class=\"gallery-info\">\n          <h3>Comments:</h3>\n          <p>${comments}</p>\n        </li>\n        <li class=\"gallery-info\">\n          <h3>Downloads:</h3>\n          <p>${downloads}</p>\n        </li>\n      </ul>\n    </li>`;\n}\n\n// Функція очищення галереї перед новим пошуком\nexport function clearGallery() {\n    refs.gallery.innerHTML = '';\n}\n\nexport function renderGallery(elements) { \n    const markup = elements.hits.map(galleryTemplate).join('\\n');       \n    refs.gallery.insertAdjacentHTML('beforeend', markup);\n\n    // Оновлюємо SimpleLightbox\n    lightbox.refresh();\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getGallery } from './js/pixabay-api';\nimport { renderGallery, clearGallery, refs } from './js/render-functions';\n\nrefs.loader.style.display = 'none';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n\n    const query = e.target.elements['search-text'].value.trim();\n\n    if (!query) {\n        iziToast.show({\n            message: 'Search query cannot be empty. Please enter a keyword!',\n            messageColor: 'white',\n            backgroundColor: 'orange',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    refs.loader.style.display = 'flex';\n    clearGallery();\n\n    getGallery(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.show({\n                    message: 'Sorry, no images found. Try again!',\n                    messageColor: 'white',\n                    backgroundColor: 'red',\n                    position: 'topRight',\n                });\n            } else {\n                renderGallery(data);\n            }\n        })\n        .catch(error => {\n            iziToast.show({\n                message: error.message,\n                messageColor: 'white',\n                backgroundColor: 'red',\n                position: 'topRight',\n            });\n        })\n        .finally(() => {\n            refs.loader.style.display = 'none';\n        });\n\n    e.target.reset();\n}"],"names":["BASE_URL","API_KEY","getGallery","queryName","axios","response","error","refs","lightbox","SimpleLightbox","galleryTemplate","element","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","renderGallery","elements","markup","onFormSubmit","e","query","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAWC,EAAW,CAClC,OAAOC,EAAM,IAAIJ,EAAU,CACvB,OAAQ,CACJ,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACT,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACZ,cAAQ,MAAM,aAAcA,CAAK,EAC3B,IAAI,MAAM,qDAAqD,CAC7E,CAAK,CACL,CCjBO,MAAMC,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAGMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,aAAc,KAClB,CAAC,EAED,SAASC,EAAgBC,EAAS,CAC9B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,sCAE2BE,CAAa;AAAA,0CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,eAKrDC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,eAIRC,CAAS;AAAA;AAAA;AAAA,UAIxB,CAGO,SAASC,GAAe,CAC3BZ,EAAK,QAAQ,UAAY,EAC7B,CAEO,SAASa,EAAcC,EAAU,CACpC,MAAMC,EAASD,EAAS,KAAK,IAAIX,CAAe,EAAE,KAAK;AAAA,CAAI,EAC3DH,EAAK,QAAQ,mBAAmB,YAAae,CAAM,EAGnDd,EAAS,QAAO,CACpB,CCjDAD,EAAK,OAAO,MAAM,QAAU,OAE5BA,EAAK,KAAK,iBAAiB,SAAUgB,CAAY,EAEjD,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAEhB,MAAMC,EAAQD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAErD,GAAI,CAACC,EAAO,CACRC,EAAS,KAAK,CACV,QAAS,wDACT,aAAc,QACd,gBAAiB,SACjB,SAAU,UACtB,CAAS,EACD,MACH,CAEDnB,EAAK,OAAO,MAAM,QAAU,OAC5BY,IAEAjB,EAAWuB,CAAK,EACX,KAAKE,GAAQ,CACNA,EAAK,KAAK,SAAW,EACrBD,EAAS,KAAK,CACV,QAAS,qCACT,aAAc,QACd,gBAAiB,MACjB,SAAU,UAC9B,CAAiB,EAEDN,EAAcO,CAAI,CAElC,CAAS,EACA,MAAMrB,GAAS,CACZoB,EAAS,KAAK,CACV,QAASpB,EAAM,QACf,aAAc,QACd,gBAAiB,MACjB,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXC,EAAK,OAAO,MAAM,QAAU,MACxC,CAAS,EAELiB,EAAE,OAAO,OACb"}